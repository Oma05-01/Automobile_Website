{% extends 'base_customer.html' %}

{% block content %}
<h1>My Booking History</h1>

<h2>Upcoming Reservations</h2>
{% if upcoming_reservations %}
  <ul>
    {% for reservation in upcoming_reservations %}
      <li>
        <strong>{{ reservation.car.make }} {{ reservation.car.model }}</strong><br>
        Date: {{ reservation.start_date }} to {{ reservation.end_date }}<br>
        Total: ${{ reservation.total_amount }}<br>
        Status: {{ reservation.status }}<br>
        Payment Status: {{ reservation.payment_status }}<br>
        <a href="{% url 'cancel_reservation' reservation.id %}">Cancel</a> |
        <a href="{% url 'modify_reservation' reservation.id %}">Modify</a>
      </li>
    {% endfor %}
  </ul>
{% else %}
  <p>You have no upcoming reservations.</p>
{% endif %}

<h2>Past Reservations</h2>
{% if past_reservations %}
  <ul>
    {% for reservation in past_reservations %}
      <li>
        <strong>{{ reservation.car.make }} {{ reservation.car.model }}</strong><br>
        Date: {{ reservation.start_date }} to {{ reservation.end_date }}<br>
        Total: ${{ reservation.total_amount }}<br>
        Status: {{ reservation.status }}<br>
        Payment Status: {{ reservation.payment_status }}<br>
        <a href="{% url 'view_review' reservation.id %}">Leave Review</a>
      </li>
    {% endfor %}
  </ul>
{% else %}
  <p>You have no past reservations.</p>
{% endif %}
{% endblock %}
